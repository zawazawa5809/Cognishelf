# Phase 0 動作確認チェックリスト

Vite移行後の既存機能の動作確認用チェックリストです。

## 開発サーバー起動確認

- [x] `npm install` 成功
- [x] `npm run dev` 起動成功
- [x] http://localhost:3000 でアクセス可能

## 基本機能テスト

### 1. アプリケーション読み込み

- [ ] ページが正常に読み込まれる
- [ ] コンソールエラーが表示されない
- [ ] タブUI(プロンプト/コンテキスト)が表示される

### 2. プロンプト管理機能

#### 2.1 一覧表示
- [ ] プロンプト一覧が表示される
- [ ] サンプルデータが表示される(初回起動時)
- [ ] フォルダサイドバーが表示される
- [ ] タグフィルタが表示される

#### 2.2 作成
- [ ] 「+ 新規プロンプト」ボタンクリックでモーダルが開く
- [ ] タイトル、プロンプト、タグ、フォルダを入力できる
- [ ] 「保存」でプロンプトが作成される
- [ ] トースト通知が表示される
- [ ] モーダルが閉じる
- [ ] 一覧に新規プロンプトが表示される

#### 2.3 編集
- [ ] 編集ボタン(✏️)クリックでモーダルが開く
- [ ] 既存データが入力欄に表示される
- [ ] 内容を変更して保存できる
- [ ] 変更が一覧に反映される

#### 2.4 削除
- [ ] 削除ボタン(🗑️)クリックで確認ダイアログが表示される
- [ ] 確認後に削除される
- [ ] 一覧から削除される

#### 2.5 コピー
- [ ] コピーボタン(📋)クリックでクリップボードにコピーされる
- [ ] トースト通知が表示される

#### 2.6 プレビュー
- [ ] プロンプトカードクリックでプレビューモーダルが開く
- [ ] タイトル、メタ情報が表示される
- [ ] Markdownがレンダリングされる
- [ ] プレビューから「コピー」「編集」「削除」ができる

### 3. コンテキスト管理機能

#### 3.1 タブ切り替え
- [ ] 「コンテキスト」タブクリックで切り替わる
- [ ] プロンプトセクションが非表示になる
- [ ] コンテキストセクションが表示される

#### 3.2 一覧表示
- [ ] コンテキスト一覧が表示される
- [ ] サンプルデータが表示される(初回起動時)
- [ ] フォルダサイドバーが表示される
- [ ] カテゴリフィルタが表示される

#### 3.3 CRUD操作
- [ ] 新規作成(タイトル、コンテキスト、カテゴリ、タグ、フォルダ)
- [ ] 編集
- [ ] 削除
- [ ] コピー
- [ ] プレビュー

### 4. フォルダ管理

- [ ] サイドバーにフォルダ一覧が表示される
- [ ] 「すべて」クリックで全アイテム表示
- [ ] フォルダクリックでフィルタリングされる
- [ ] フォルダ内アイテム数が表示される

### 5. 検索機能

#### 5.1 プロンプト検索
- [ ] 検索ボックスに入力するとリアルタイムフィルタリングされる
- [ ] タイトルで検索できる
- [ ] プロンプト内容で検索できる
- [ ] タグで検索できる
- [ ] 大文字小文字を区別しない

#### 5.2 コンテキスト検索
- [ ] 検索ボックスに入力するとリアルタイムフィルタリングされる
- [ ] タイトルで検索できる
- [ ] コンテキスト内容で検索できる
- [ ] カテゴリで検索できる

### 6. ソート機能

- [ ] ソートドロップダウンが表示される
- [ ] 「日付(新しい順)」で正しくソートされる
- [ ] 「日付(古い順)」で正しくソートされる
- [ ] 「タイトル(A→Z)」で正しくソートされる
- [ ] 「タイトル(Z→A)」で正しくソートされる

### 7. グループ化機能

- [ ] グループ化ドロップダウンが表示される
- [ ] 「なし」でグループ化解除
- [ ] 「フォルダ別」でフォルダごとにグループ化される
- [ ] 「タグ別」でタグごとにグループ化される(プロンプト)
- [ ] 「カテゴリ別」でカテゴリごとにグループ化される(コンテキスト)

### 8. JSON インポート/エクスポート

#### 8.1 エクスポート
- [ ] エクスポートボタンクリックでJSONファイルがダウンロードされる
- [ ] ファイル名が `cognishelf-backup-YYYYMMDD-HHMMSS.json` 形式
- [ ] JSONに全プロンプト・コンテキスト・フォルダが含まれる
- [ ] exportedAt タイムスタンプが含まれる

#### 8.2 インポート
- [ ] インポートボタンクリックでファイル選択ダイアログが開く
- [ ] JSONファイルを選択できる
- [ ] 正しいJSONをインポートできる
- [ ] 既存データとマージされる(ID重複時は既存優先)
- [ ] 新規データが追加される
- [ ] トースト通知が表示される

### 9. データ永続化

#### 9.1 IndexedDB
- [ ] ブラウザのDevTools > Application > IndexedDB に `cognishelf-db` が作成される
- [ ] `prompts`, `contexts`, `folders` Object Storeが存在する
- [ ] データ追加後、Object Storeにレコードが保存される
- [ ] ページリロード後もデータが保持される

#### 9.2 LocalStorageマイグレーション(該当する場合)
- [ ] 既存LocalStorageデータが検出される
- [ ] IndexedDBへ自動マイグレーションされる
- [ ] マイグレーション後、LocalStorageキーがクリアされる
- [ ] すべてのデータがIndexedDBに移行される

### 10. UI/UX

#### 10.1 モーダル
- [ ] モーダル外クリックで閉じる
- [ ] Escキーで閉じる
- [ ] キャンセルボタンで閉じる
- [ ] ×ボタンで閉じる

#### 10.2 トースト通知
- [ ] 成功時に緑色のトースト表示
- [ ] エラー時に赤色のトースト表示
- [ ] 3秒後に自動的に消える

#### 10.3 レスポンシブデザイン
- [ ] デスクトップ表示で正常にレイアウトされる
- [ ] タブレット表示で正常にレイアウトされる(DevToolsで確認)
- [ ] モバイル表示で正常にレイアウトされる(DevToolsで確認)

### 11. Markdown対応

- [ ] プロンプト/コンテキストにMarkdown記法を入力できる
- [ ] プレビューモーダルでMarkdownがHTMLレンダリングされる
- [ ] 見出し、リスト、コードブロック、リンクが正しく表示される

### 12. エラーハンドリング

- [ ] 不正なJSONインポート時にエラーメッセージが表示される
- [ ] 必須フィールド未入力時にバリデーションエラーが表示される
- [ ] ストレージエラー時に適切なエラーメッセージが表示される

## ビルド&デプロイ確認

- [ ] `npm run build` でビルド成功
- [ ] `dist/` ディレクトリが生成される
- [ ] `npm run preview` でプレビュー起動
- [ ] ビルド版でも同じ機能が動作する

## コンソールチェック

- [ ] Console Errors: なし
- [ ] Console Warnings: 軽微なもののみ許容
- [ ] Network Errors: なし
- [ ] IndexedDB operations: 正常

## ブラウザ互換性

- [ ] Chrome/Edge: 正常動作
- [ ] Firefox: 正常動作
- [ ] Safari: 正常動作(可能であれば)

---

## テスト実施記録

**日時**: YYYY-MM-DD HH:MM
**実施者**:
**ブラウザ**: Chrome / Firefox / Safari / Edge (バージョン:     )
**結果**: ✅ 全テスト合格 / ⚠️ 一部問題あり / ❌ 重大な問題あり

### 発見された問題

1. **問題タイトル**
   - 現象:
   - 再現手順:
   - 期待動作:
   - 実際の動作:
   - 対応状況:

---

## Next Steps

Phase 0完了後:
- [ ] ROADMAP.md の Phase 0 チェックボックスをすべて完了にする
- [ ] Phase 1(SD特化基盤)へ進む
